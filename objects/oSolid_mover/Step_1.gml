xspd *= dir;
yspd *= dir;

move_x(xspd);
move_y(yspd);
